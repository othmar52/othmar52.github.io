(function(t){function e(e){for(var n,s,o=e[0],l=e[1],c=e[2],u=0,f=[];u<o.length;u++)s=o[u],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&f.push(a[s][0]),a[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);d&&d(e);while(f.length)f.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,s=1;s<r.length;s++){var l=r[s];0!==a[l]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=r[0]))}return t}var n={},a={app:0},i=[];function s(t){return o.p+"js/"+({about:"about"}[t]||t)+"."+{about:"d91ddb6d"}[t]+".js"}function o(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(t){var e=[],r=a[t];if(0!==r)if(r)e.push(r[2]);else{var n=new Promise((function(e,n){r=a[t]=[e,n]}));e.push(r[2]=n);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=s(t);var c=new Error;i=function(e){l.onerror=l.onload=null,clearTimeout(u);var r=a[t];if(0!==r){if(r){var n=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+n+": "+i+")",c.name="ChunkLoadError",c.type=n,c.request=i,r[1](c)}a[t]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(e)},o.m=t,o.c=n,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var d=c;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var n=r("85ec"),a=r.n(n);a.a},"1d94":function(t,e,r){},2689:function(t,e,r){"use strict";var n=r("74a6"),a=r.n(n);a.a},"2f67":function(t,e,r){},3013:function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},i=[],s={name:"App"},o=s,l=(r("034f"),r("2877")),c=Object(l["a"])(o,a,i,!1,null,null,null),u=c.exports,d=(r("d3b7"),r("8c4f")),f=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"random"},[r("FilterSection"),r("div",{staticClass:"content"},[r("h1",{staticClass:"logo"},[t._v("Synthspiration")]),r("RandomButton"),r("Player")],1)],1)},p=[],h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"filter__section"},[r("FilterGroup",{attrs:{filters:t.deviceFilters,group:"devices"}}),r("FilterGroup",{attrs:{filters:t.categoryFilters,group:"categories"}})],1)},v=[],m=r("5530"),g=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"filtergroup__container"},[r("div",{staticClass:"filter__header"},[r("strong",["black"===t.direction?r("span",[t._v("NOT")]):t._e(),t._v(" "+t._s(t.group))]),r("a",{class:"icon icon-invert filter__state-"+t.direction,attrs:{title:"invert (blacklist/whitelist)"},on:{click:t.filterDirectionToggle}},[r("IconInvert")],1),r("a",{staticClass:"icon icon-reset",attrs:{title:"resrt filters"},on:{click:t.resetFilters}},[r("IconReset")],1)]),t._l(t.filters,(function(e,n){return r("SingleFilter",{key:n,attrs:{group:t.group,label:e,direction:"white"}})}))],2)},w=[],b=r("b85c"),_=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("a",{class:"btn single__filter single__filter-"+t.stateClass+" single__filter-"+t.currentResults+" color-"+t.filterColor,on:{click:t.filterClick}},[r("span",[t._v(" "+t._s(t.filterLabel)),r("span",{staticClass:"amount"},[t._v("("+t._s(t.currentResults)+")")])])])},S=[],C=r("2f62"),y={name:"SingleFilter",data:function(){return{active:!1}},props:{group:String,label:String},computed:Object(m["a"])({},Object(C["b"])(["getAmountForFilter","getLabelForFilter","getColorForFilter"]),{stateClass:function(){return!0===this.active?"active":""},currentResults:function(){return this.getAmountForFilter(this.group,this.label)},filterLabel:function(){return this.getLabelForFilter(this.group,this.label)},filterColor:function(){return this.getColorForFilter(this.group,this.label)}}),methods:{filterClick:function(){this.active=!this.active,this.$store.dispatch("setFilter",this)}}},F=y,x=(r("a12e"),Object(l["a"])(F,_,S,!1,null,null,null)),L=x.exports,k=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("svg",{attrs:{height:"20px",width:"20px",version:"1.1",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg","xmlns:sketch":"http://www.bohemiancoding.com/sketch/ns","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[r("path",{attrs:{d:"M14,9 C14,6.2 11.8,4 9,4 L9,14 C11.8,14 14,11.8 14,9 L14,9 Z M16,0 L2,0 C0.9,0 0,0.9 0,2 L0,16 C0,17.1 0.9,18 2,18 L16,18 C17.1,18 18,17.1 18,16 L18,2 C18,0.9 17.1,0 16,0 L16,0 Z M16,16 L9,16 L9,14 C6.2,14 4,11.8 4,9 C4,6.2 6.2,4 9,4 L9,2 L16,2 L16,16 L16,16 Z",id:"Shape"}})])},O=[],j={},$=Object(l["a"])(j,k,O,!1,null,null,null),D=$.exports,I=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("svg",{attrs:{width:"20px",height:"20px","enable-background":"new 0 0 24 24",id:"Layer_1",version:"1.1",viewBox:"0 0 24 24","xml:space":"preserve",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[r("path",{attrs:{d:"M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"}})])},E=[],M={},P=Object(l["a"])(M,I,E,!1,null,null,null),R=P.exports,B={name:"FilterGroup",components:{SingleFilter:L,IconInvert:D,IconReset:R},data:function(){return{direction:"white",type:this.group}},props:{filters:Array,group:String},methods:{filterDirectionToggle:function(){this.direction="white"===this.direction?"black":"white",this.$store.dispatch("invertFilter",this)},resetFilters:function(){var t,e=Object(b["a"])(this.$children);try{for(e.s();!(t=e.n()).done;){var r=t.value;"undefined"!==typeof r.active&&(r.active=!1,this.$store.dispatch("setFilter",r))}}catch(n){e.e(n)}finally{e.f()}}}},T=B,K=(r("baf0"),Object(l["a"])(T,g,w,!1,null,null,null)),A=K.exports,N={name:"App",components:{FilterGroup:A},computed:Object(m["a"])({},Object(C["b"])(["getFilterItems"]),{deviceFilters:function(){return this.getFilterItems("devices")},categoryFilters:function(){return this.getFilterItems("categories")}})},G=N,W=(r("fa57"),Object(l["a"])(G,h,v,!1,null,null,null)),q=W.exports,Z=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"sample__player line"},[r("div",{staticClass:"line__wave",attrs:{id:"line__wave0"}},[r("audio",{ref:"audio",attrs:{src:t.getCurrentSample.samplepath,autoplay:""},on:{durationchange:t.onDurationChangeListener,timeupdate:t.onTimeUpdateListener,ended:t.onEndedListener}},[t._v(" Your browser does not support the "),r("code",[t._v("audio")]),t._v(" element. ")]),r("div",{ref:"waveform",staticClass:"waveform__wrapper",attrs:{id:"waveform__wrapper"}}),r("div",{ref:"progress",staticClass:"seek__progress"}),r("div",{staticClass:"seek__clickarea"})])]),r("div",{staticClass:"sample__info"},[r("h3",[t._v(" "+t._s(t.getCurrentSample.device.vendor)+" - "+t._s(t.getCurrentSample.device.model)+" "),r("span",{staticClass:"amount"},[t._v("("+t._s(t.getCurrentSample.device.patchSetName)+")")])]),r("h1",[r("span",{staticClass:"amount"},[t._v(t._s(t.getCurrentSample.displayname))]),t._v(" "+t._s(t.getCurrentSample.patchname)+" ")]),t.getCurrentSample.categories.length?r("p",[t._v(" categories: "+t._s(t.getCurrentSample.categories.join(", "))+" ")]):t._e(),t.getCurrentSample.creator?r("p",[r("span",{staticClass:"amount"},[t._v(" created by "+t._s(t.getCurrentSample.creator)+" ")])]):t._e(),r("p",[r("span",{staticClass:"btn",on:{click:t.confirmSend}},[t._v("send to synth")]),t._v(" "),r("span",{staticClass:"btn",on:{click:t.replay}},[t._v("play again")])])])])},H=[],J={name:"Player",data:function(){return{sampleId:String,currentSample:{devicePrefix:"",uniqueIdentifier:"",patchname:"",displayname:"",msb:null,lsb:null,programchange:null,samplepath:"",categories:[],creator:"",duration:0,digitakt:{bank:"",sbnk:"",programchange:""},wavPeaks:[],device:{uniquePrefix:"",vendor:"",model:"",color:"",yearOfConstruction:0,patchSetName:"",midiChannel:0}},waveformSettings:{waveColor:"#FF9C01",barWidth:1,barGap:.2,mirrored:1,colors:{orange:"#FF9C01",green:"rgb(59,187,47)",red:"#FF5050",blue:"#5487F4",yellow:"#EFFE4B",pink:"#F8289E",cyan:"#00E5E5",violet:"#9932CC",lawngreen:"#7CFC00",darkgoldenrod:"#B8860B",grey:"#808080",teal:"#008080",firebrick:"#B22222",darkorange:"#FF8C00",darkblue:"#00008B",dodgerblue:"#1E90FF"}}}},computed:Object(m["a"])({},Object(C["b"])(["triggerLoadSample","getCurrentSample"])),methods:{onDurationChangeListener:function(){this.$refs.progress.style.transition="none",this.$refs.progress.style.width="0",this.drawWaveform(this.$refs.waveform,this.getCurrentSample.wavPeaks,this.waveformSettings.colors[this.getCurrentSample.device.color])},confirmSend:function(){},replay:function(){this.$refs.audio.currentTime=0,this.$refs.audio.play()},onEndedListener:function(){"undefined"!==typeof this.$refs.progress&&(this.$refs.progress.style.width=0)},onTimeUpdateListener:function(t){"undefined"!==typeof this.$refs.progress&&(this.$refs.progress.style.transition="width 200ms linear",this.$refs.progress.style.width=t.target.currentTime/t.target.duration*100+"%")},drawWaveform:function(t,e,r){t.innerHTML="",this.waveformSettings.canvas=document.createElement("canvas"),this.waveformSettings.context=this.waveformSettings.canvas.getContext("2d"),this.waveformSettings.canvas.width=t.offsetWidth,this.waveformSettings.canvas.height=t.offsetHeight,this.waveformSettings.waveColor=r;var n=Math.floor(e.length/this.waveformSettings.canvas.width),a=this.getMaxVal(e);0===a&&(a=1);for(var i=0;i<this.waveformSettings.canvas.width;i+=this.waveformSettings.barWidth)this.drawBar(i,this.bufferMeasure(Math.floor(i*(e.length/this.waveformSettings.canvas.width)),n,e)*a/10*(this.waveformSettings.canvas.height/a)+1);t.appendChild(this.waveformSettings.canvas)},getMaxVal:function(t){for(var e=0,r=0;r<t.length;r++)e=t[r]>e?t[r]:e;return e},bufferMeasure:function(t,e,r){for(var n=0,a=t;a<=t+e-1;a++)n+=Math.pow(r[a],2);return Math.sqrt(n/r.length)},drawBar:function(t,e){this.waveformSettings.context.fillStyle=this.waveformSettings.waveColor;var r=this.waveformSettings.barWidth;0!==this.waveformSettings.barGap&&(r*=Math.abs(1-this.waveformSettings.barGap));var n=t+r/2,a=this.waveformSettings.canvas.height-e;1===this.waveformSettings.mirrored&&(a/=2),this.waveformSettings.context.fillRect(n,a,r,e)}}},U=J,V=(r("6131"),Object(l["a"])(U,Z,H,!1,null,null,null)),z=V.exports,Y=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("router-link",{staticClass:"btn btn-random",attrs:{to:"/sample/"+t.getNextSampleKey,title:"next:"+t.getNextSampleKey}},[t._v(" random "),r("span",{staticClass:"amount"},[t._v("("+t._s(t.allMatchingSamples.length)+")")])])},Q=[],X={name:"RandomButton",computed:Object(m["a"])({},Object(C["b"])(["getSampleKeys","getNextSampleKey"]),{allMatchingSamples:function(){return this.getSampleKeys}}),methods:{loadRandomSample:function(){this.$store.dispatch("triggerLoadSample",this.getNextSampleKey)}}},tt=X,et=(r("2689"),Object(l["a"])(tt,Y,Q,!1,null,null,null)),rt=et.exports,nt={name:"Random",components:{FilterSection:q,RandomButton:rt,Player:z},mounted:function(){"undefined"!==typeof this.$route.params.sampleId&&this.loadSample(this.$route.params.sampleId)},watch:{"$route.params.sampleId":function(t){this.loadSample(t)}},methods:{loadSample:function(t){this.$store.dispatch("triggerLoadSample",t)}}},at=nt,it=(r("9e8a"),Object(l["a"])(at,f,p,!1,null,null,null)),st=it.exports;n["a"].use(d["a"]);var ot=[{path:"/",name:"Random",component:st},{path:"/sample/:sampleId",name:"Sample",component:st},{path:"/patchlist",name:"Patchlist",component:function(){return r.e("about").then(r.bind(null,"517a"))}}],lt=new d["a"]({routes:ot}),ct=lt;r("99af"),r("4de4"),r("c975"),r("a434"),r("b64b");function ut(){for(var t=[],e=1===arguments.length?arguments[0]:arguments,r=0;r<e.length;r++)for(var n=e[r],a=function(r){var a=n[r];if(-1!==t.indexOf(a))return"continue";0==e.filter((function(t){return-1==t.indexOf(a)})).length&&t.push(a)},i=0;i<n.length;i++)a(i);return t}function dt(t){for(var e=t.length-1;e>0;e--){var r=Math.floor(Math.random()*(e+1)),n=[t[r],t[e]];t[e]=n[0],t[r]=n[1]}return t}function ft(t){var e=t.resultList.shift();t.nextSampleKey=e,t.resultList.push(e)}n["a"].use(C["a"]);var pt=new C["a"].Store({state:{bigData:{},nextSampleKey:"",activeFilters:{devices:{direction:"white",active:[]},categories:{direction:"white",active:[]}},resultList:[],currentSample:{device:{},categories:[]}},mutations:{},actions:{setBigData:function(t,e){this.state.bigData=e,t.dispatch("calculateResults")},setFilter:function(t,e){if(e.active)return this.state.activeFilters[e.group].active.push(e.label),void t.dispatch("calculateResults");var r=this.state.activeFilters[e.group].active.indexOf(e.label);-1!==r&&this.state.activeFilters[e.group].active.splice(r,1),t.dispatch("calculateResults")},invertFilter:function(t,e){this.state.activeFilters[e.group].direction=e.direction,t.dispatch("calculateResults")},triggerLoadSample:function(t,e){var r=this,n=document.createElement("script");n.setAttribute("src",this.state.bigData.jsonPaths[e]),document.head.appendChild(n),window.sampleDataLoadInterval=window.setInterval((function(){if("undefined"!==typeof window.sampleData){r.state.currentSample=window.sampleData,r.state.currentSample.device=r.state.bigData.devicConf[window.sampleData.devicePrefix],window.sampleData=void 0,clearInterval(window.sampleDataLoadInterval),n.parentNode.removeChild(n);var t=r.state.resultList.shift();r.state.nextSampleKey=t,r.state.resultList.push(t)}}),5)},calculateResults:function(t){var e=t.state.activeFilters.devices.active.length;if(e+=t.state.activeFilters.categories.active.length,0===e)return t.state.resultList=dt(Object.keys(t.state.bigData.jsonPaths)),void ft(t.state);for(var r=[],n=0,a=["devices","categories"];n<a.length;n++){var i=a[n],s=t.state.activeFilters[i];if(0!==s.active.length){var o,l=[],c=Object(b["a"])(s.active);try{for(c.s();!(o=c.n()).done;){var u=o.value,d=t.state.bigData[i][u];"black"!==s.direction?l=l.concat(d[s.direction]):r.push(d[s.direction])}}catch(f){c.e(f)}finally{c.f()}"white"===s.direction&&r.push(l)}}t.state.resultList=dt(ut(r)),ft(t.state)}},modules:{},getters:{getActiveFilters:function(t){return t.activeFilters},getFilterItems:function(t){return function(e){return Object.keys(t.bigData[e])}},getAmountForFilter:function(t){return function(e,r){var n,a=0,i=Object(b["a"])(t.resultList);try{for(i.s();!(n=i.n()).done;){var s=n.value;t.bigData[e][r].all[s]===t.activeFilters[e].direction&&a++}}catch(o){i.e(o)}finally{i.f()}return a}},getSampleKeys:function(t){return t.resultList},getCurrentSample:function(t){return t.currentSample},getLabelForFilter:function(t){return function(e,r){return"devices"!==e?r:t.bigData["devicConf"][r].model}},getColorForFilter:function(t){return function(e,r){return"devices"!==e?r:t.bigData["devicConf"][r].color}},getNextSampleKey:function(t){return t.nextSampleKey}}});n["a"].config.productionTip=!1;var ht=document.createElement("script");ht.setAttribute("src","./output/bigData.json"),document.head.appendChild(ht),window.initialDataLoadInterval=window.setInterval((function(){"undefined"!==typeof bigData&&(clearInterval(window.initialDataLoadInterval),ht.parentNode.removeChild(ht),pt.dispatch("setBigData",bigData),new n["a"]({router:ct,store:pt,render:function(t){return t(u)}}).$mount("#app"))}),5)},6131:function(t,e,r){"use strict";var n=r("2f67"),a=r.n(n);a.a},"74a6":function(t,e,r){},"85ec":function(t,e,r){},"9e8a":function(t,e,r){"use strict";var n=r("dade"),a=r.n(n);a.a},a12e:function(t,e,r){"use strict";var n=r("1d94"),a=r.n(n);a.a},baf0:function(t,e,r){"use strict";var n=r("edad"),a=r.n(n);a.a},dade:function(t,e,r){},edad:function(t,e,r){},fa57:function(t,e,r){"use strict";var n=r("3013"),a=r.n(n);a.a}});
//# sourceMappingURL=app.1a0a4d70.js.map